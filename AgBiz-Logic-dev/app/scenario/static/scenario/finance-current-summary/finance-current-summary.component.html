<h3 class="text-center">Your Current Financial Information</h3>

<finance-step-indicator
  step="4"
  steps="$ctrl.steps">
</finance-step-indicator>

  <h4>
    Current Financial Information Summary
  </h4>

  <p>Here you can review all current data entered for your current financial information.
    If you need to make any adjustments, you can return to a previous step using the navigation bar above.</p>


<div class="card">
  <div class="card-header" role="tab" id="headingOne">
    <h5 class="mb-0">
      <button ng-onInit="$ctrl.collapse_list[1] = 'false'" ng-click="$ctrl.collapse_list[1] = $ctrl.toggleCollapse($ctrl.collapse_list[1])"id="card-header modal-form-btn" style="width: 100%" class="btn btn-info" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
       <h7>Beginning Balance Sheet</h7>
       <i ng-Show="$ctrl.collapse_list[1] === 'false'" class="fas fa-caret-down float-left" ></i>
       <i ng-Show="$ctrl.collapse_list[1] === 'true'" class="fas fa-caret-up float-left" ></i>
      </button>
      </h5>
  </div>


  <div id="collapseOne" class="collapse" role="tabpanel" aria-labelledby="headingOne" >
    <div class="card-block">
      <div class="row">
        <div class="col-md-10 col-md-offset-1">

          <table class="table table-striped table-balance-sheet text-right">
            <tbody>
              <tr>
                <th>Current Assets</th>
                <td></td>
              </tr>
              <tr>
                <td>Cash & Checking</td>
                <td>${{$ctrl.beginning_balance_sheet.cash_and_checking || 0.00}}</td>
              </tr>
              <tr>
                <td>Accounts Receivable</td>
                <td>${{$ctrl.beginning_balance_sheet.account_receivable || 0.00}}</td>
              </tr>
              <tr>
                <td>Prepaid Expenses</td>
                <td>${{$ctrl.beginning_balance_sheet.prepaid_expenses || 0.00}}</td>
              </tr>
              <tr>
                <td>Cash Investments in Growing Crops</td>
                <td>${{$ctrl.beginning_balance_sheet.investment || 0.00}}</td>
              </tr>
              <tr>
                <td>Marketable Livestock</td>
                <td>${{$ctrl.beginning_balance_sheet.marketable_livestock || 0.00}}</td>
              </tr>
              <tr>
                <td>Stored Crops and Feed</td>
                <td>${{$ctrl.beginning_balance_sheet.stored_crops_and_feed || 0.00}}</td>
              </tr>
              <tr>
                <td>Purchased Feed</td>
                <td>${{$ctrl.beginning_balance_sheet.purchased_feed || 0.00}}</td>
              </tr>
              <tr>
                <td>Supplies</td>
                <td>${{$ctrl.beginning_balance_sheet.supplies || 0.00}}</td>
              </tr>
              <tr>
                <td>Other Current Assets</td>
                <td>${{$ctrl.beginning_balance_sheet.other_assets || 0.00}}</td>
              </tr>

              <tr>
                <th>Intermediate Assets</th>
                <td></td>
              </tr>
              <tr>
                <td>Vehicles, Machinery, Equipment, and Breeding Livestock</td>
                <td>${{$ctrl.beginning_balance_sheet.machinery_equipment || 0.00}}</td>
              </tr>
              <tr>
                <td>Contracts & Notes Receivable</td>
                <td>${{$ctrl.beginning_balance_sheet.contracts_and_notes_receivable || 0.00}}</td>
              </tr>
              <tr>
                <td>Investment in Cooperatives</td>
                <td>${{$ctrl.beginning_balance_sheet.investing_in_cooperatives|| 0.00}}</td>
              </tr>

              <tr>
                <th>Long Term Assets</th>
                <td></td>
              </tr>
              <tr>
                <td>Real Estate, Land</td>
                <td>${{$ctrl.beginning_balance_sheet.real_estate_land || 0.00}}</td>
              </tr>
              <tr>
                <td>Buildings & Improvements</td>
                <td>${{$ctrl.beginning_balance_sheet.buildings_and_improvements || 0.00}}</td>
              </tr>

              <tr>
                <th>Current Liabilities</th>
                <td></td>
              </tr>
              <tr>
                <td>Accounts Payable</td>
                <td>${{$ctrl.beginning_balance_sheet.accounts_payable || 0.00}}</td>
              </tr>
              <tr>
                <td>Accrued Interest</td>
                <td>${{$ctrl.beginning_balance_sheet.accrued_interest|| 0.00}}</td>
              </tr>
              <tr>
                <td>Property Taxes</td>
                <td>${{$ctrl.beginning_balance_sheet.valorem_taxes || 0.00}}</td>
              </tr>
              <tr>
                <td>Employee Payroll Withholding</td>
                <td>${{$ctrl.beginning_balance_sheet.employee_payroll_withholding || 0.00}}</td>
              </tr>
              <tr>
                <td>Income Taxes</td>
                <td>${{$ctrl.beginning_balance_sheet.income_taxes || 0.00}}</td>
              </tr>
              <tr>
                <td>Deferred Taxes</td>
                <td>${{$ctrl.beginning_balance_sheet.deferred_taxes || 0.00}}</td>
              </tr>
              <tr>
                <td>Other Accrued Expenses</td>
                <td>${{$ctrl.beginning_balance_sheet.other_accured_expenses || 0.00}}</td>
              </tr>
              <tr>
                <td>Other Current Liabilities</td>
                <td>${{$ctrl.beginning_balance_sheet.other_current_liabilites || 0.00}}</td>
              </tr>

            </tbody>
          </table>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="card">
  <div class="card-header" role="tab" id="headingTwo">
    <h5 class="mb-0">
      <button ng-onInit="$ctrl.collapse_list[2] = 'false'" ng-click="$ctrl.collapse_list[2] = $ctrl.toggleCollapse($ctrl.collapse_list[2])"id="card-header modal-form-btn" style="width: 100%" class="btn btn-info" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
       <h7>Current Loans</h7>
       <i ng-Show="$ctrl.collapse_list[2] === 'false'" class="fas fa-caret-down float-left" ></i>
       <i ng-Show="$ctrl.collapse_list[2] === 'true'" class="fas fa-caret-up float-left" ></i>
      </button>
      </h5>
  </div>


  <div id="collapseTwo" class="collapse" role="tabpanel" aria-labelledby="headingTwo" >
    <div class="card-block">
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
          <table class="table">
            <thead>
              <tr>
                <th>Title</th>
                <th style="text-align: right;">Loan Amount</th>
                <th style="text-align: right;">Interest Rate</th>
                <th style="text-align: right;">Loan Repayment Term</th>
                <th style="text-align: right;">Years Before Loan Matures</th>
                <th style="text-align: right;">Type of Asset</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="item in $ctrl.current_loans_list | orderBy:'transaction_description'">
                <td>{{item.transaction_description}}</td>
                <td style="text-align: right;">{{item.loan_amount  | currency  }}</td>
                <td  style="text-align: right;">{{item.interest_rate | number }}%</td>
                <td style="text-align: right;">{{item.years_of_loan}}</td>
                <td style="text-align: right;">{{item.years_before_loan_matures}}</td>
                <td style="text-align: right;">{{item.asset_type}}</td>
              </tr>
            </tbody>
          </table>



        </div>
      </div>

    </div>
  </div>
</div>

<div class="card">
  <div class="card-header" role="tab" id="headingThree">
    <h5 class="mb-0">
      <button ng-onInit="$ctrl.collapse_list[3] = 'false'" ng-click="$ctrl.collapse_list[3] = $ctrl.toggleCollapse($ctrl.collapse_list[3])"id="card-header modal-form-btn" style="width: 100%" class="btn btn-info" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
       <h7>Current Leases</h7>
       <i ng-Show="$ctrl.collapse_list[3] === 'false'" class="fas fa-caret-down float-left" ></i>
       <i ng-Show="$ctrl.collapse_list[3] === 'true'" class="fas fa-caret-up float-left" ></i>
      </button>
      </h5>
  </div>


  <div id="collapseThree" class="collapse" role="tabpanel" aria-labelledby="headingThree" >
    <div class="card-block">
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
          <table class="table">
            <thead>
              <tr>
                <th>Title</th>
                <!--<th style="text-align: right;">Loan Amount</th>-->
                <th style="text-align: right;">Annual Payment</th>
                <th style="text-align: right;">Years Before Lease Expires</th>
                <th style="text-align: right;">Type of Asset</th>

                <!--<th style="text-align: right;">Years before Loan Matures</th>
                <th style="text-align: right;">Type of Assets</th>
                <th style="text-align: right;">Action</th> -->
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="item in $ctrl.current_lease_list  | orderBy:'financed_through'">
                <td>{{item.financed_through}}</td>
              <!--  <td style="text-align: right;">${{item.loan_amount}}</td>-->
                <td style="text-align: right;">{{item.annual_payment | currency}}</td>
                <td style="text-align: right;">{{item.years_before_leases_expired}}</td>
                <td style="text-align: right;">{{item.asset_class}}</td>
              </tr>
            </tbody>
          </table>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-1 pull-left">
    <button
      class="btn btn-primary"
      ng-click="$ctrl.back()">
      Previous
    </button>
  </div>

  <div class="pull-right" style="margin-right: 10px">
    <button
      class="btn btn-success"
      ng-click="$ctrl.proceed()">
      Next
    </button>
  </div>
</div>
